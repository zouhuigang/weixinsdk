
### snsapi_userinfo 需要用户授权

1.获取code

2.获取oauth access_token和openid

3.根据oauth access_token和openid拉取用户信息,下面的接口只能snsapi_userinfo使用。


	 https://api.weixin.qq.com/sns/userinfo?access_token=ACCESS_TOKEN&openid=OPENID&lang=zh_CN

如果有unionID则会返回unionID。

返回:


	{   
    "openid":" OPENID",
    " nickname": NICKNAME,
    "sex":"1",
    "province":"PROVINCE"
    "city":"CITY",
    "country":"COUNTRY",
    "headimgurl":       "http://thirdwx.qlogo.cn/mmopen/g3MonUZtNHkdmzicIlibx6iaFqAc56vxLSUfpb6n5WKSYVY0ChQKkiaJSgQ1dZuTOgvLLrhJbERQQ4eMsv84eavHiaiceqxibJxCfHe/46",
    "privilege":[ "PRIVILEGE1" "PRIVILEGE2"     ],
    "unionid": "o6_bmasdasdsad6_2sgVt7hMZOPfL"
	}



### snsapi_base 无感获取信息,比用户授权多了一步获取公众平台的access_token


1.获取code

2.获取oauth access_token和openid,这一步只需要用到openid

3.根据公众号平台的access_token和用户openid，获取用户基本信息

	接口调用请求说明
	http请求方式: GET
	https://api.weixin.qq.com/cgi-bin/user/info?access_token=ACCESS_TOKEN&openid=OPENID&lang=zh_CN

返回:

	{
	    "subscribe": 1, 
	    "openid": "o6_bmjrPTlm6_2sgVt7hMZOPfL2M", 
	    "nickname": "Band", 
	    "sex": 1, 
	    "language": "zh_CN", 
	    "city": "广州", 
	    "province": "广东", 
	    "country": "中国", 
	    "headimgurl":"http://thirdwx.qlogo.cn/mmopen/g3MonUZtNHkdmzicIlibx6iaFqAc56vxLSUfpb6n5WKSYVY0ChQKkiaJSgQ1dZuTOgvLLrhJbERQQ4eMsv84eavHiaiceqxibJxCfHe/0",
	    "subscribe_time": 1382694957,
	    "unionid": " o6_bmasdasdsad6_2sgVt7hMZOPfL"
	    "remark": "",
	    "groupid": 0,
	    "tagid_list":[128,2],
	    "subscribe_scene": "ADD_SCENE_QR_CODE",
	    "qr_scene": 98765,
	    "qr_scene_str": ""
	}


# 2行代码实现网页授权

>了解流程之后，weixinSDK将提供更简单的调用方式，只需要2个方法，就能实现上面的复杂流程



##### snsapi_userinfo获取用户信息

	userinfo, err := wxServerClient.GetUserInfoBySnsapiBase(code)

其中code为微信返回过来的值。


##### snsapi_base获取用户信息

	userinfo, err := wxServerClient.GetUserInfoBySnsapiUserinfo(code)